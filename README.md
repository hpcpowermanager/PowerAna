# PowerAna
A power measurement and analysis tool for HPC workloads. It currently measures cpu percentage utilization, idle percentage utilization, package c-states (c2, c3, c6 & c7), package power, core power, dram power and core c-states (c3, c6 & c7) with the sampling frequency of one second.

Build
-----
```
make
```

Run
-----
```
./PowerAna ./<your_workload_executable>
```

Sample Output
-----
```
[root@node1 PowerAna]# ./PowerAna ./load
-----------------------------------------------------------------------------------------------------------------
      Date     Time  Node  CPU% IDLE% Pkg  PC2%  PC3%  PC6%  PC7% PkgPwr Pp0Pwr DramPwr Core  CC3%  CC6%  CC7%
-----------------------------------------------------------------------------------------------------------------
2018-07-13 14:13:18 node1 11.11 88.89   0     0     0     0     0  26.76   16.6    2.41    0     0     0     0
                                                                                           1     0     0     0
                                                                                           2     0     0     0
                                                                                           3     0     0     0
                                                                                           8     0     0     0
                                                                                           9     0     0     0
                                                                                           10    0     0     0
                                                                                           11    0     0     0
                                        1     0     0     0     0  36.82  21.74    8.53    4     0     0     0
                                                                                           5     0     0     0
                                                                                           6     0     0 71.66
                                                                                           7     0     0     0
                                                                                          12     0     0     0
                                                                                          13     0     0     0
                                                                                          14     0     0     0
                                                                                          15     0     0     0
-----------------------------------------------------------------------------------------------------------------
-----------------------------------------------------------------------------------------------------------------
      Date     Time  Node  CPU% IDLE% Pkg  PC2%  PC3%  PC6%  PC7% PkgPwr Pp0Pwr DramPwr Core  CC3%  CC6%  CC7%
-----------------------------------------------------------------------------------------------------------------
2018-07-13 14:13:19 node1  3.12 96.88   0     0     0     0     0  45.74  32.61    4.26    0     0     0     0
                                                                                           1     0     0 89.76
                                                                                           2     0     0     0
                                                                                           3     0     0     0
                                                                                           8     0     0 29.43
                                                                                           9     0     0     0
                                                                                           10    0     0 29.43
                                                                                           11    0     0     0
                                        1     0     0     0     0  27.78  14.74    6.31    4     0     0     0
                                                                                           5     0     0 98.36
                                                                                           6     0     0 99.86
                                                                                           7     0     0     0
                                                                                          12     0     0     0
                                                                                          13     0     0     0
                                                                                          14     0     0     0
                                                                                          15     0     0     0
-----------------------------------------------------------------------------------------------------------------
```
